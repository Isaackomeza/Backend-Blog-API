{"version":3,"sources":["../../src/routes/auth.routes.js"],"names":["SECRET_KEY","process","env","route","express","Router","post","verifyUser","req","res","jwt","verify","token","err","authData","sendStatus","json","message","user","username","email","sign","expiresIn"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;IAEOA,U,GAAcC,OAAO,CAACC,G,CAAtBF,U;;AAEP,IAAMG,KAAK,GAAGC,oBAAQC,MAAR,EAAd;;AAGAF,KAAK,CAACG,IAAN,CAAW,QAAX,EAAoBC,gBAApB,EAAgC,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1CC,2BAAIC,MAAJ,CAAWH,GAAG,CAACI,KAAf,EAAsB,YAAtB,EAAoC,UAACC,GAAD,EAAMC,QAAN,EAAmB;AACnD,QAAGD,GAAH,EAAQ;AACJJ,MAAAA,GAAG,CAACM,UAAJ,CAAe,GAAf;AACH,KAFD,MAEM;AACFN,MAAAA,GAAG,CAACO,IAAJ,CAAS;AACLC,QAAAA,OAAO,EAAE,oBADJ;AAELH,QAAAA,QAAQ,EAARA;AAFK,OAAT;AAIH;AACJ,GATD;AAWH,CAZD;AAcAX,KAAK,CAACG,IAAN,CAAW,QAAX,EAAqB,UAACE,GAAD,EAAMC,GAAN,EAAc;AAC/B,MAAMS,IAAI,GAAG;AACTC,IAAAA,QAAQ,EAAE,aADD;AAETC,IAAAA,KAAK,EAAE;AAFE,GAAb;;AAIAV,2BAAIW,IAAJ,CAAS;AAACH,IAAAA,IAAI,EAAJA;AAAD,GAAT,EAAgB,YAAhB,EAA8B;AAAEI,IAAAA,SAAS,EAAE;AAAb,GAA9B,EAAkD,UAACT,GAAD,EAAMD,KAAN,EAAe;AAC7DH,IAAAA,GAAG,CAACO,IAAJ,CAAS;AACLJ,MAAAA,KAAK,EAALA;AADK,KAAT;AAGH,GAJD;AAKH,CAVD;eAceT,K","sourcesContent":["import express from 'express';\r\nimport jwt from 'jsonwebtoken';\r\nimport {} from 'dotenv/config';\r\nimport {verifyUser} from '../middlewares/auth';\r\n\r\nconst {SECRET_KEY} = process.env;\r\n\r\nconst route = express.Router();\r\n\r\n\r\nroute.post('/posts',verifyUser, (req, res) => {\r\n    jwt.verify(req.token, 'SECRET_KEY', (err, authData) => {\r\n        if(err) {\r\n            res.sendStatus(403);\r\n        } else{\r\n            res.json({\r\n                message: 'Post created .....',\r\n                authData\r\n            });\r\n        }\r\n    })\r\n\r\n});\r\n\r\nroute.post('/login', (req, res) => {\r\n    const user = {\r\n        username: 'isaackomeza',\r\n        email: 'isaackomeza@gmail.com'\r\n    }\r\n    jwt.sign({user},'SECRET_KEY', { expiresIn: '30s'},(err, token)=> {\r\n        res.json({\r\n            token\r\n        });\r\n    });\r\n});\r\n\r\n\r\n\r\nexport default route;\r\n\r\n"],"file":"auth.routes.js"}