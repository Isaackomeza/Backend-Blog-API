{"version":3,"sources":["../../src/controllers/usersControllers.js"],"names":["readAll","req","res","users","status","json","error","message","data","readById","id","params","user","find","create","username","body","email","password","role","push","update","deleteUser","a","indexOf","splice"],"mappings":"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","sourcesContent":["\r\nimport users from '../models/usersCollection';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n\r\nexport const readAll = (req, res) => {\r\n    if (!users) {\r\n        return res.status(404).json({\r\n            status: 404,\r\n            error: 'No User found',\r\n        });\r\n    }\r\n    return res.status(200).json({\r\n        status: 200,\r\n        message: 'users successfully retrieved',\r\n        data: {\r\n            users,\r\n        },\r\n    });\r\n};\r\nexport const readById = (req, res) => {\r\n    const id = req.params.id;\r\n    const user = users.find((user) => {\r\n        return user.id === id;\r\n    });\r\n    if (user) {\r\n        return res.status(200).json({\r\n            status: 200,\r\n            message: 'user successfully retrieved',\r\n            data: user,\r\n        });\r\n    }\r\n    return res.status(404).json({\r\n        status: 404,\r\n        error: 'user not found',\r\n    });\r\n\r\n};\r\nexport const create = (req, res) => {\r\n    const user = {\r\n        id: uuidv4(),\r\n        username: req.body.username,\r\n        email: req.body.email,\r\n        password: req.body.password,\r\n        role: 'user'\r\n    };\r\n    users.push(user);\r\n    return res.status(201).json({\r\n        status: 201,\r\n        message: 'user successfully created',\r\n        data: user,\r\n    });\r\n\r\n};\r\n\r\nexport const update=(req,res)=>{\r\n    const id = req.params.id;\r\n    const user = users.find((user) => {\r\n        return user.id === id;\r\n    });\r\n    if(user){\r\n        user.username=req.body.username;\r\n        user.email=req.body.email;\r\n        user.password= req.body.password;\r\n        return res.status(200).json({\r\n            status: 200,\r\n            message: 'user successfully updated',\r\n            data: user,\r\n        });\r\n    }\r\n    return res.status(404).json({\r\n        status: 404,\r\n        error: 'user not found',\r\n    });\r\n    \r\n}\r\n\r\nexport const deleteUser=(req,res)=>{\r\n    const id=req.params.id;\r\n    const user = users.find((user) => {\r\n        return user.id === id;\r\n    });\r\n    if(user){\r\n        var a = users.indexOf(user[0]);\r\n        users.splice(a, 1);\r\n        return res.status(200).json({\r\n            status: 200,\r\n            message: 'user successfully deleted',\r\n            data: user,\r\n        });\r\n    }\r\n    return res.status(404).json({\r\n        status: 404,\r\n        error: 'user not found',\r\n    });\r\n}"],"file":"usersControllers.js"}